<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--><html class="no-js"><!--<![endif]-->

<head>

  <meta charset="utf-8" />
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  
  <meta name="keywords" content="window, manager, experiment, html5, css3, javascript, github, web, example" />
  
  <meta name="viewport" content="width=1024" />
  
  <title>Disce Results</title>
  
  <link href='ventus/stylesheets/normalize.css' rel='stylesheet' type='text/css' />
  
  <link href='ventus/stylesheets/simple.css' rel='stylesheet' type='text/css' />
  
  <link href='ventus/build/ventus.css' rel='stylesheet' type='text/css' />
  
  <link href='ventus/stylesheets/browseralert.css' rel='stylesheet' type='text/css' />
  
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,300,400" rel="stylesheet" type="text/css" />
  
  <script type="text/javascript" src="ventus/vendor/modernizr.js"></script>

</head>

<body unselectable="on">

  <h1 id="searchResults"> test </h1>

  <div class="browser-overlay">
  
    <div class="wrapper">
      <h2>This experiment works in <strong>webkit</strong> based browsers only!</h2>
      <i class="icon-chrome" style="font-size: 50px; color: white; float: right;"></i>
      <p>This means we cannot guarantee that everything will be displayed properly on your browser. 
      Sorry. However please try <a href="https://www.google.com/intl/en/chrome/browser/">Google Chrome</a> or <a href=
      "http://firefox.com">Firefox.&gt;Take a look at other browsers running</a> <a href="http://en.wikipedia.org/wiki/List_of_web_browsers">Webkit</a></p>
      <small><a href="#" class="close-button">Continue anyway &gt;</a></small>
      
    </div>
    
  </div>

  <div class="buttonbar">
  
    <button class="button create-button">Create Window</button> 
    
    <button class="button expose-button">Expos√©</button>
    
  </div>
  
  <script type="text/javascript" src="ventus/vendor/jquery.js"></script>
  
  <script type="text/javascript" src="ventus/vendor/handlebars.js"></script>

  <script type="text/javascript" src="ventus/build/ventus.js"></script>

  <script type="text/javascript">
			$(document).ready(function() {
					var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
					var isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);
					var $browserAlert = $('.browser-overlay');

					if(!isChrome && !isSafari) {
							$browserAlert.find('.close-button').click(function() {
									 $browserAlert.hide();
							});

							$browserAlert.show();
					}

					var wm = new Ventus.WindowManager();

					var previousxpos = 60;
					var previousypos = 50;
					
					var currentxpos = previousxpos += previousxpos;
					var currentypos = 200 - previousypos;
					
					window.wm = wm; // For debugging reasons

					$('.create-button').click(function(){
							wm.createWindow({
								title: document.getElementById("searchResults") + '- Disce Results',
								x: (previousxpos += 120),
								y: previousypos,
								width: 400,
								height: 250
							})
							.open();
						//	console.log("New window x: " + previousxpos += previousxpos);
							
					});

					$('.expose-button').click(_.throttle(function(){
							if(wm.mode === 'expose')
									wm.mode = 'default';
							else
									wm.mode = 'expose';

							return false;
					}, 1000));
			  });
		</script>

		<script type="text/javascript">
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-11674457-1']);
			_gaq.push(['_trackPageview']);

			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</script>

	</body>
</html>
